<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin: 0;padding: 0;}
		div{width: 400px;margin: 10px auto;border:1px solid black;}
		li{list-style: none;height: 30px;margin-bottom: 2px;}
		li:last-of-type{border-top: 1px solid #C5C5C5;margin: 0;border-bottom: 1px solid #626262;}
		input{margin: 0 15px;}
		span{display: inline-block;font: 16px/30px 'Microsoft';}
		span:first-of-type{width:200px;}
		span:last-of-type{width:150px;}
	</style>
</head>
<body>
	<div>
		<ul></ul>
	</div>
	<script>
		var aName=['私奔','我爱你中国','火花','回来','爱要有你才完美']
		var oUl=document.getElementsByTagName('ul')[0];
		var sLi='';
		window.onload=function () {
			for (var i = 0; i < aName.length; i++) {
				sLi+='<li><input type="checkbox"><span>'+aName[i]+'</span>梁博<span></span></li>'
			}
			oUl.innerHTML=sLi+'<li><input id="lastCk" type="checkbox"><span>全选</span><input type="button" value="收藏"><input type="button" value="添加"><input type="button" value="删除"></li>';
			var oCkl=document.getElementById('lastCk');
			var oCk=document.getElementsByTagName('input');
			var tab=true;

			oCkl.onclick=function () {
				if (tab) {
					for (var i = 0; i < aName.length; i++) {
						oCk[i].checked=true;
					}
				}else{
					for (var i = 0; i < aName.length; i++) {
						oCk[i].checked=false;
					}
				}
				tab=!tab;
			}
			
			for (var i = 0; i < aName.length; i++) {
				fuCheck(oCk[i]);
			}
			function fuCheck(a) {
				a.onclick=function () {
					var check=true;
					for (var i = 0; i < aName.length; i++){
						if (!oCk[i].checked) {
							oCkl.checked=false;
							tab=true;
							check=false;
						}
					}
					if (check) {
						oCkl.checked=true;
						tab=false;
					}
				}
			}
		}	
	</script>
</body>
</html>